<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Detalle de Maquinaria</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <link rel="stylesheet" th:href="@{/css/maquinaria_detalle.css}" />
    <link rel="stylesheet" th:href="@{/css/maquinaria_buscar.css}" />
</head>
<body>
    <div class="main-container">
        <h2>Detalle de Maquinaria</h2>
        <div class="buscador-container">
            <div>
                <label for="buscador">Buscar maquinaria:</label>
                <input type="text" id="buscador" placeholder="Buscar maquinaria..." />
            </div>
            <div>
                <label for="maquinariaSelect">Seleccionar maquinaria:</label>
                <select id="maquinariaSelect">
                    <option value="">Seleccione una maquinaria</option>
                    <th:block th:if="${maquinarias != null}" th:each="maq : ${maquinarias}">
                        <option th:value="${maq.id}" 
                                th:text="${maq.tipo + ' - ' + maq.marca + ' (' + maq.ubicacion + ')'}"
                                th:selected="${maquinariaSeleccionada != null and maq.id == maquinariaSeleccionada.id}"></option>
                    </th:block>
                </select>
            </div>
            <div>
                <button id="limpiarBtn">Limpiar selecci칩n</button>
            </div>


        </div>
        <h3>Detalle de la Maquinaria</h3>
        <div th:if="${maquinariaSeleccionada != null}">
            <table>
                <tbody>
                    <tr><th>Tipo</th><td th:text="${maquinariaSeleccionada.tipo}"></td></tr>
                    <tr><th>Ubicaci칩n</th><td th:text="${maquinariaSeleccionada.ubicacion}"></td></tr>
                    <tr><th>Fecha disponible</th><td th:text="${#dates.format(maquinariaSeleccionada.fecha_disponible, 'dd/MM/yyyy')}"></td></tr>
                    <tr><th>Precio</th><td th:text="${'$' + #numbers.formatInteger(maquinariaSeleccionada.precio, 0, 'POINT')}"></td></tr>
                    <tr><th>Marca</th><td th:text="${maquinariaSeleccionada.marca}"></td></tr>
                    <tr><th>A침o de fabricaci칩n</th><td th:text="${maquinariaSeleccionada.anio_fabricacion}"></td></tr>
                    <tr><th>Capacidad</th><td th:text="${maquinariaSeleccionada.capacidad}"></td></tr>
                    <tr><th>Mantenciones</th><td th:text="${maquinariaSeleccionada.mantenciones}"></td></tr>
                    <tr><th>Condiciones</th><td th:text="${maquinariaSeleccionada.condiciones}"></td></tr>
                    <tr><th>Medios de pago</th><td th:text="${maquinariaSeleccionada.medios_pago}"></td></tr>
                </tbody>
            </table>
        </div>
        <a href="/home">Volver al Home</a>
    </div>
    <script th:src="@{/js/maquinaria_detalle.js}"></script>
</body>
</html>
